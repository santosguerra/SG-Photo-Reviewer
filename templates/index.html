<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Photo Reviewer</title>
    <link rel="stylesheet" href="{{ url_for('static', filename='css/style.css') }}">
</head>
<body>
    <div class="app-container">
        <!-- Header with tabs -->
        <header class="header">
            <div class="app-header">
                <div class="tabs">
                    <img src="{{ url_for('static', filename='img/logotipo.png') }}" width="48" height="48" />
                    <button class="tab active" data-tab="reviewer" id="reviewer-tab">Examinar</button>
                    <button class="tab" data-tab="collections">Colecciones</button>
                    <button class="tab" data-tab="search">Buscar</button>
                    <button class="tab" data-tab="config">Configuración</button>
                    <button class="tab" data-tab="help">Ayuda</button>
                </div>
                <div class="app-info">
                    <span id="app-version">SG Photo Reviewer v1.0.6</span>
                    <button id="shortcuts-btn" class="btn-shortcuts" title="Atajos de teclado">Shortcuts</button>
                </div>
            </div>
        </header>

        <!-- Tab contents -->
        {% include 'explorer.html' %}
        {% include 'collections.html' %}
        {% include 'search.html' %}
        {% include 'configuration.html' %}
        {% include 'help.html' %}

        <!-- Loading indicator -->
        <div id="loading" class="loading" style="display: none;">
            <div class="spinner"></div>
        </div>

        <!-- Toast notifications -->
        <div id="toast" class="toast"></div>

        <!-- Delete confirmation modal -->
        <div id="delete-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>⚠️ Eliminar archivos</h2>
                <p id="delete-modal-message">Vas a eliminar X archivos PERMANENTEMENTE. Esta acción es IRRECUPERABLE.</p>
                <div class="modal-buttons">
                    <button id="delete-cancel" class="btn">Cancelar</button>
                    <button id="delete-confirm" class="btn-danger">Eliminar definitivamente</button>
                </div>
            </div>
        </div>

        <!-- Delete JPGs confirmation modal -->
        <div id="delete-jpgs-modal" class="modal" style="display: none;">
            <div class="modal-content">
                <h2>¿Eliminar JPGs (mantener RAW)?</h2>
                <p id="delete-jpgs-modal-message"></p>
                <div class="modal-buttons">
                    <button id="delete-jpgs-cancel" class="btn">Cancelar</button>
                    <button id="delete-jpgs-confirm" class="btn-warning">Eliminar JPGs</button>
                </div>
            </div>
        </div>

        <!-- Keyboard shortcuts modal -->
        <div id="shortcuts-modal" class="modal" style="display: none;">
            <div class="modal-content shortcuts-modal-content">
                <button class="shortcuts-close" id="shortcuts-close">×</button>
                <h2>⌨️ Atajos de Teclado</h2>

                <div class="shortcuts-section">
                    <h3>Navegación</h3>
                    <div class="shortcut-item">
                        <kbd>←</kbd> <kbd>→</kbd>
                        <span>Navegar entre carpetas / fotos en carrusel</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Esc</kbd>
                        <span>Salir del carrusel / Cerrar modales</span>
                    </div>
                </div>

                <div class="shortcuts-section">
                    <h3>Vista Carrusel</h3>
                    <div class="shortcut-item">
                        <kbd>←</kbd> <kbd>→</kbd>
                        <span>Foto anterior / siguiente</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Espacio</kbd>
                        <span>Marcar / desmarcar foto actual</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>G</kbd>
                        <span>Volver a vista grilla</span>
                    </div>
                </div>

                <div class="shortcuts-section">
                    <h3>Selección de Fotos</h3>
                    <div class="shortcut-item">
                        <kbd>Click</kbd>
                        <span>Marcar / desmarcar foto</span>
                    </div>
                    <div class="shortcut-item">
                        <kbd>Shift</kbd> + <kbd>Click</kbd>
                        <span>Seleccionar rango de fotos</span>
                    </div>
                </div>

                <div class="shortcuts-section">
                    <h3>Ayuda</h3>
                    <div class="shortcut-item">
                        <kbd>?</kbd> o <kbd>H</kbd>
                        <span>Mostrar este panel de atajos</span>
                    </div>
                </div>
            </div>
        </div>
    </div>

    <script src="{{ url_for('static', filename='js/app.js') }}"></script>
</body>
</html>
